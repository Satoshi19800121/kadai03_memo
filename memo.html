<!DOCTYPE html>
<html lang="jp">
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <main>
        <div class="input-area">
          <input id="date" type="text" placeholder="日付を入力">
          <textarea id="text" placeholder="本文を入力"></textarea>
        </div>
    
        <div class="button-area">
          <button id="save">完了</button>
          <button id="clear">削除</button>
        </div>
      </main>





<script>
// indexページからパラメータを受け取る
var url = location.search.substr(5,10);
// document.write(url);
const txt = localStorage.getItem(url);
// document.write(txt);
$("#date").val(url);
$("#text").val(txt);





//今日の日付データを変数に格納
//変数は"today"とする
var today=new Date(); 

//年・月・日・曜日を取得
var year = today.getFullYear();
var month = today.getMonth()+1;
var week = today.getDay();
var day = today.getDate();

var week_ja= new Array("日","月","火","水","木","金","土");

//年・月・日・曜日を書き出す
if(url === ""){
    $("#date").val(year+"/"+month+"/"+day)
}
// document.write(year+"年"+month+"月"+day+"日 "+week_ja[week]+"曜日");



//完了処理
    $("#save").on("click", function () {
      const key = $("#date").val();
      const value = $("#text").val();

      localStorage.setItem(key, value);
    });


//削除処理
    $("#clear").on("click", function () {
    localStorage.removeItem(url);
    $("#date").val("");
    $("#text").val("");
    });




</script>




    
</body>
</html>